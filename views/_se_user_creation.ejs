<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- <link rel="shortcut icon" href="img/logo/favicon.ico"> -->

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="/stylesheets/bootstrap.css">

<!-- local style css -->
<link rel="stylesheet" href="/stylesheets/navbar.css">
<link rel="stylesheet" href="/stylesheets/index.css">

<style>
#sidebar.active {

	/*margin-left: -250px;*/
}

.choose-img-file.d-none {
	display: none !important;
}

.hide1 {
	display: none !important;
}

.custom-file-label {
	overflow: hidden;
}

.custom-file-input {
	width: 100%;
	z-index: 9;
}

.add-update form .row>div>div input,
.add-update form .row>div>div textarea,
.add-update form .row>div>div select {
	width: 60%;
	position: relative;
}
.res-col-4{
	padding: 0;
	margin-bottom: 0;
}
.res-col-4 p{
	font-size: 10px;
	line-height: 10px;
	margin: 10px 0 0;
}
.go-cat-row{
height: 65vh;
overflow-y: scroll;
margin: 0 -5px;
}
#catModal>div{
	max-width: 80vw;
  margin: 0;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
.res-col-4 .btn-group1{
	display: flex;
  width: 100%;
  justify-content: space-between;
}
.res-col-4 .btn-group1 button{
width: 55%;
}
.res-col-4 .btn-group1.productAdded button.btn.btn-danger{
	color: #fff;
	background-color: #28a745;
	border-color: #28a745;
}
.res-col-4 .btn-group1 input{
width: 43%;
}
.bottom-cat {

}
.bottom-cat > div{
	padding-top: 10px;
display: flex;
justify-content: space-between;
}
.bottom-cat h5{
	width: 40%;
	text-align: left;
	font-weight: 600;
	align-self: center;
	margin: 0;
}
.bottom-cat input{
	width: 60%;
	background-color: #fff !important;
}
@media only screen and (max-width: 500px) {
#catModal>div{
	max-width: 95vw;
}
}
</style>
</head>
<body>
	<div class="wrapper d-flex align-items-stretch">
<%- include("./partials/_menu.ejs",{userId:userId,userType:userType,username:username,userImg:userImg}) %>
<div class="add-update section">
	<div class="container-fluid">
		<div class="add-update-div section-div">
			<h4 class="h4">ADD <span>LEAD</span></h4>
			<form id="create_dl_form" action="/regReq/mbm_product_enquiry_submit" method="post" enctype="multipart/form-data">
        <input type="hidden" name="_csrf-backend" value="lMFvBr9BvDuVt3KbMU7QH2032ayJFXWy0fy-7ugetLfu8yo23jL0X9qEIMt2F7ROWlao2sVhR_O3le6MolPu8Q==">
				<input type="hidden" name="userId" value="">
				<input type="hidden" name="from" value="SE">
				<input type="hidden" name="adressfor" value="SB">
				<input type="hidden" name="addressType" value="O">
				<div class="row">
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="userType">User Type</label>
							<select id="userType" name="role" class="form-control enquery-select" onchange="getRole('create_dl_form')" required>
							<option value="" selected>Choose....</option>
							<option value="DL">Dealer</option>
							<option value="DT">Distributor</option>
							<option value="ST">Store</option>
							<option value="OT">Other</option>
							</select>
						</div>
					</div>
					<div class="col-md-6 col-12" id="customer_type">
						<!-- <div class="form-group">
							<label for="customer_type">Customer Type</label>
							<input type="text" class="form-control" name="customer_type" placeholder="Customer Type" required>
						</div> -->
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="customerperspective">Customer Perspective</label>
							<select id="customerperspective" name="customerperspective" class="form-control enquery-select">
							<option value="" selected>Choose....</option>
							<option value="Not Interested">Not Interested</option>
							<option value="Interested">Interested</option>
							<option value="Need Time">Need Time</option>
							<option value="Other">Other</option>
							</select>
						</div>
					</div>
					<div class="col-md-6 col-12" id="customer_perspective">
						<div class="form-group">
							<label for="customer_perspective_val">Customer Perspective Comment</label>
							<input type="text" class="form-control" name="customer_perspective_val" placeholder="Customer Perspective" required>
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="firstname">First Name</label>
							<input type="text" class="form-control" name="fname" placeholder="firstname" required>
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="lastname">Last Name</label>
							<input type="text" class="form-control" name="lname" placeholder="lastname" required>
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="shopname">Shop/Company Name</label>
							<input type="text" id="shopname" class="form-control" name="compnay" placeholder="Organization" required>
						</div>
					</div>
				<!--	<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="loginId">Login ID</label>
							<input type="text" class="form-control" name="logonId" placeholder="loginId">
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="password1">Password</label>
							<input type="text" class="form-control" name="password" placeholder="Passw0rd">
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="password2">Confirm Password</label>
							<input type="text" class="form-control" name="password" placeholder="Passw0rd">
						</div>
					</div>-->
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="emailId">Email ID</label>
							<input type="text" class="form-control" name="email1" placeholder="emailId">
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="address" class="text-area">Address</label>
							<textarea name="address1" id="address" rows="3" name="address1" class="form-control" placeholder="address"></textarea>
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="country">Country</label>
							<select class="form-control" name="country" id="country" onchange="getState('create_dl_form')" required>
								<option value="1" selected disabled>Choose...</option>
                <!-- <option value="China">China</option> -->
								<option value="India">India</option>
								<!-- <option value="USA">USA</option> -->
							</select>
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
              <label for="add-state">State</label>
							<select class="form-control" name="state" id="add-state" placeholder="Select State" onchange="getCity('create_dl_form')" required>
							</select>
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
              <label for="add-city">City</label>
							<select class="form-control" name="city" id="add-city" placeholder="Select City" required>
							</select>
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="panNo">PAN card number</label>
							<input type="text" class="form-control" name="panno" placeholder="enter pan number.." required>
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="gstinNo">GSTIN Number</label>
							<input type="text" class="form-control" name="gstin" placeholder="enter gstin number" required>
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="mobileNo">Mobile Number</label>
							<input type="number" name="mobile1" class="form-control" placeholder="mobileNo" required>
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="phoneNo">Phone Number</label>
							<input type="number" name="phone1" class="form-control" placeholder="phoneNo">
						</div>
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="zipcode">ZIP Code</label>
							<input type="text" class="form-control" name="zipcode" placeholder="enter zipcode" required>
						</div>
					</div>
					<div class="col-md-6 col-12 exe-comment" >
						<div class="form-group">
							<label for="exeComment">Exectutive Comment</label>
							<textarea id="exeComment" name="exeComment" style="height: auto !important;" rows="5" class="form-control" required></textarea>
						</div>
					</div>
					<div class="col-12 d-flex">
						<input type="hidden" class="form-control" name="imageName1" id="imageName1">
						<input type="hidden" class="form-control" name="imageName2" id="imageName2">
						<input type="hidden" class="form-control" name="imageName3" id="imageName3">
						<input type="hidden" class="form-control" name="imageName4" id="imageName4">
						<input type="hidden" class="form-control" name="imageName5" id="imageName5">
						<input type="hidden" class="form-control" name="imageName5" id="imageName5">
						<input type="hidden" class="form-control" name="qty_1" id="qty_1">
						<input type="hidden" class="form-control" name="qty_2" id="qty_2">
						<input type="hidden" class="form-control" name="qty_3" id="qty_3">
						<input type="hidden" class="form-control" name="qty_4" id="qty_4">
						<input type="hidden" class="form-control" name="qty_5" id="qty_5">
						<input type="hidden" class="form-control" name="price_1" id="price_1">
						<input type="hidden" class="form-control" name="price_2" id="price_2">
						<input type="hidden" class="form-control" name="price_3" id="price_3">
						<input type="hidden" class="form-control" name="price_4" id="price_4">
						<input type="hidden" class="form-control" name="price_5" id="price_5">
						<input type="hidden" class="form-control" id="createdOn" name="createdOn" value="2021-01-20" id="createdOn">
						<!-- <input type="hidden" class="form-control" name="prdQty" id="prdQty"> -->
					</div>

					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="orderplacingfor">Order Placing For</label>
							<select id="orderplacingfor" name="orderplacingfor" class="form-control enquery-select" onchange="setOrderPlacingFor('create_dl_form')">
							<option value="" selected>Choose....</option>
							<option value="HM">Home</option>
							<option value="CL">College</option>
							<option value="OFC">Office</option>
							<option value="OT">Other</option>
							</select>
						</div>
					</div>
					<div class="col-md-6 col-12" id="order_placing_for">
						<!-- <div class="form-group">
							<label for="order_placing_for_val">Customer Type</label>
							<input type="text" class="form-control" name="order_placing_for_val" placeholder="Customer Type" required>
						</div> -->
					</div>
					<div class="col-md-6 col-12">
						<div class="form-group">
							<label for="productenquirytype">Select Product Enquiry For:</label>
							<select id="productenquirytype" name="productenquirytype" class="form-control enquery-select" onchange="setEnquiryFor('create_dl_form')" required>
							<option value="" selected>Choose....</option>
							<option value="gotocatalog">Go to Catalog</option>
							<option value="newproductenquiry">New Product Enquiry</option>
							</select>
						</div>
					</div>

					
					
					<!-- modal search + product -->
					<div class="col-12 d-flex" >
						<button id="gotocatalogbutton" type="button" class="btn btn-danger" data-toggle="modal" data-target="#catModal">Go to catalogue</button>
					</div>
					
					<!-- checkbox -->
					<!-- <div class="col-12 d-flex">
						<div class="form-group mb-0">
							<input type="checkbox" class="form-control" name="newProEnq" id="newProEnq" style="width: auto;">
							<label for="newProEnq" class="align-self-center mb-0 ml-2 font-weight-bold w-100">New Product Enquiry</label>
						</div>
					</div> -->
					<!-- condition photo 3,5 -->
					<div class="col-12 d-flex choose-img-file d-none">
						<div class="card p-2 pt-2 pb-1 mb-2">
						<!-- <div class=""> -->
							<div class="row">
								<div class="col-md-4 col-12">
									<div class="input-group mb-0 mt-2">
									  <div class="custom-file">
									    <input type="file" class="custom-file-input" name="inputImage1" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01">
									    <label class="custom-file-label w-100" for="inputGroupFile01">Choose file</label>
									  </div>
									  
									</div>
									<input type="number" placeholder="Quantity" name="inputQty1" id="inputQty1"/>
									<input type="text" placeholder="Customer Negotiation Price" name="inputPrice1" id="inputPrice1"/>
								</div>
								<div class="col-md-4 col-12">
									<div class="input-group mb-0 mt-2">
									  <div class="custom-file">
									    <input type="file" class="custom-file-input" name="inputImage2" id="inputGroupFile02" aria-describedby="inputGroupFileAddon02">
									    <label class="custom-file-label w-100" for="inputGroupFile02">Choose file</label>
									  </div>
									</div>
									<input type="number" placeholder="Quantity" name="inputQty2" id="inputQty2"/>
									<input type="text" placeholder="Customer Negotiation Price" name="inputPrice2" id="inputPrice2"/>
								</div>
								<div class="col-md-4 col-12">
									<div class="input-group mb-0 mt-2">
									  <div class="custom-file">
									    <input type="file" class="custom-file-input" name="inputImage3" id="inputGroupFile03" aria-describedby="inputGroupFileAddon03">
									    <label class="custom-file-label w-100" for="inputGroupFile03">Choose file</label>
									  </div>
									</div>
									<input type="number" placeholder="Quantity" name="inputQty3" id="inputQty3"/>
									<input type="text" placeholder="Customer Negotiation Price" name="inputPrice3" id="inputPrice3"/>
								</div>
								<div class="col-md-4 col-12 add-img-file d-flex mt-2">
									<button type="button" class="btn btn-danger btn-sm">+ Add more files</button>
								</div>
								<div class="col-md-4 col-12 file-vali" style="display: none;">
									<div class="input-group mb-0 mt-2">
									  <div class="custom-file">
									    <input type="file" class="custom-file-input" name="inputImage4" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04">
									    <label class="custom-file-label w-100" for="inputGroupFile04">Choose file</label>
									  </div>
									</div>
									<input type="number" placeholder="Quantity" name="inputQty4" id="inputQty4"/>
									<input type="text" placeholder="Customer Negotiation Price" name="inputPrice4" id="inputPrice4"/>
								</div>
								<div class="col-md-4 col-12 file-vali" style="display: none;">
									<div class="input-group mb-0 mt-2">
									  <div class="custom-file">
									    <input type="file" class="custom-file-input" name="inputImage5" id="inputGroupFile05" aria-describedby="inputGroupFileAddon05">
									    <label class="custom-file-label w-100" for="inputGroupFile015">Choose file</label>
									  </div>
									</div>
									<input type="number" placeholder="Quantity" name="inputQty5" id="inputQty5"/>
									<input type="text" placeholder="Customer Negotiation Price" name="inputPrice5" id="inputPrice5"/>
								</div>
							</div>
						</div>
					</div>
					<div class="col-6 bottom-hide d-none">
						<div class="form-group">
							<label for="enquiryType">Enquiry Type</label>
							<select type="text" class="form-control" name="enqType" id="formenquiryType">
								<option value="1" selected disabled>Choose...</option>
								<option value="hot">Hot</option>
								<option value="warn">Warn</option>
								<option value="cold">Cold</option>
								<option value="prospects">Prospects</option>
								<option value="closed">Closed</option>
							</select>
						</div>
					</div>
					<!-- <div class="col-md-6 col-12 bottom-hide d-none">
						<div class="form-group">
							<label for="productQuantity">Product Quantity</label>
							<input type="text" name="prdQty" id="formproductQuantity" class="form-control">
						</div>
					</div>
					<div class="col-md-6 col-12 bottom-hide d-none">
						<div class="form-group">
							<label for="cusNeoPrice">Customer Negotiation Price per piece</label>
							<input type="text" name="prdPrice" id="formcusNeoPrice" class="form-control">
						</div>
					</div> -->
					<div class="col-md-6 col-12 bottom-hide d-none">
						<div class="form-group">
							<label for="visitDate">Next Visit Date</label>
							<input type="date" id="formvisitDate" name="followUpDate" class="form-control">
						</div>
					</div>
					<div class="col-12">
						<button type="submit" class="btn btn-success w-25">SUBMIT</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>
</div>
<!-- Modal -->
<div class="modal fade" id="catModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"
>
<!-- style="display: block; opacity: 1;" -->
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header p-2">
        <h5 class="modal-title" id="exampleModalLabel">Go to catalogue</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        	<!-- <div class="form-group">
        		<input type="text" class="form-control" placeholder="Search">
        	</div> -->
        	<div class="row go-cat-row border pt-2 pb-3">
          <% prdList.forEach(function(product){ %>
            <div class="col-md-3 col-4 p-2">
							<div class="res-col-4 w-100">
								<a href="#">
									<img src="/images/products/<%= product.THUMBNAIL %>" alt="<%= product.NAME %>">
									<p><%= product.NAME %></p>
                  <p class="col-red">₹  <%= product.OFFERPRICE %></p>
									<p class="stirked">₹  <%= product.LISTPRICE %></p>
								</a>
								<div class="btn-group1 mt-2">
									<button id="prod_<%= product.PRODUCT_ID %>" class="btn btn-success btn-sm" onclick="addProduct('<%= JSON.stringify(product) %>')">Add</button>
									<input type="number" id="qty_form_<%= product.PRODUCT_ID %>" class="form-control btn-sm" placeholder="Quantity" min="0">
									
								</div>
								<input type="text" id="price_form_<%= product.PRODUCT_ID %>" class="form-control btn-sm" placeholder="Customer Negotiation Price" >
							</div>
        		</div>
            <% }); %>
        	</div>
        	<div class="row bottom-cat">
        		<!-- <div class="col-md-6 col-6">
        			<h5>Total: </h5>
        			<input type="text" readonly class="form-control" id="totalProductPrice">
        		</div>
        		<div class="col-md-6 col-6">
        			<h5>Quantity: </h5>
        			<input type="text" readonly class="form-control">
        		</div> -->
            <div class="col-md-6 col-6">
              <label for="enquiryType">Enquiry Type</label>
							<select type="text" class="form-control" id="enquiryType">
								<option value="1" selected disabled>Choose...</option>
								<option value="hot">Hot</option>
								<option value="warn">Warn</option>
								<option value="cold">Cold</option>
								<option value="prospects">Prospects</option>
								<option value="closed">Closed</option>
							</select>
        		</div>
            <!-- <div class="col-md-6 col-6">
              <label for="cusNeoPrice">Customer Negotiation Price per piece</label>
              <input type="text" id="cusNegoPrice" class="form-control">
        		</div> -->
            <div class="col-md-6 col-6">
              <label for="visitDate">Visit Date</label>
              <input type="date" name="visitDate" id="visitDate" class="form-control">
			</div>
				<div class="col-12 center">
					
					<button id="" class="btn btn-danger btn-sm w-25" onclick="submitProduct()">Add</button>
				</div>
				
			</div>
			

			
			
      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">X</button>
      </div> -->
    </div>
  </div>
</div>
<script src="/javascripts/jquery.js"></script>
<script src="/javascripts/fontawwesome.js"></script>
<!-- jQuery -->
<!-- Popper.js -->
<script src="/javascripts/popper.js"></script>
<!-- Bootstrap JS -->
<script src="/javascripts/bootstrap.js"></script>
<script src="/javascripts/main.js"></script>
<script src="/javascripts/app.js"></script>
<script>
var image_count = 0;

$('#gotocatalogbutton').hide();

var today = new Date();
var dd = today.getDate();
var mm = today.getMonth()+1; //January is 0!
var yyyy = today.getFullYear();
 if(dd<10){
        dd='0'+dd
    } 
    if(mm<10){
        mm='0'+mm
    } 

today = yyyy+'-'+mm+'-'+dd;
document.getElementById("formvisitDate").setAttribute("min", today);
document.getElementById("visitDate").setAttribute("min", today);
function formatDate() {
    var d = new Date(),
        month = '' + (d.getMonth() + 1),
        day = '' + d.getDate(),
        year = d.getFullYear();

    if (month.length < 2) 
        month = '0' + month;
    if (day.length < 2) 
        day = '0' + day;

    return [year, month, day].join('-');
}
//setting current date
$('#createdOn').val(formatDate());

//checking user type selected
function getRole(formId)
{
	console.log("role selected");
	console.log("sdjdfh");
	var selected_user_type = jQuery("#"+formId+" select[name='role']").val();
	console.log(selected_user_type);
	if(selected_user_type === 'OT'){
		console.log(selected_user_type);
		var parent = $('#customer_type');
		var content =  '   <div class="form-group" id="customer_type_div">  '  + 
	'   							<label for="customer_type">Customer Type</label>  '  + 
	'   							<input type="text" class="form-control" name="customer_type" placeholder="Customer Type" required>  '  + 
	'  						</div>  ' ; 

	parent.append(content);
	}else{
		$('#customer_type_div').remove();
	}
}

function setOrderPlacingFor(formId)
{
	console.log("role selected");
	console.log("sdjdfh");
	var selected_user_type = jQuery("#"+formId+" select[name='orderplacingfor']").val();
	console.log(selected_user_type);
	if(selected_user_type === 'OT'){
		console.log(selected_user_type);
		var parent = $('#order_placing_for');
		var content =  '   <div class="form-group" id="order_placing_for_div">  '  + 
	'   							<label for="order_placing_for_val">Order Placing for Comment</label>  '  + 
	'   							<input type="text" class="form-control" name="order_placing_for_val" placeholder="Order Placing for" required>  '  + 
	'  						</div>  ' ; 

	parent.append(content);
	}else{
		$('#customer_type_div').remove();
	}
}


function setEnquiryFor(formId)
{
	console.log('product enq');
	var selected_user_type = jQuery("#"+formId+" select[name='productenquirytype']").val();
	console.log(selected_user_type);
	if(selected_user_type === 'gotocatalog'){
	$('#gotocatalogbutton').show();
	$('#create_dl_form').attr('action','/regReq/mbm_product_enquiry_submit');
	  $(".choose-img-file").addClass("d-none");
	  $(".file-vali").hide();
		$(".add-img-file").removeClass("hide1");
	  $(".bottom-hide").addClass("d-none");
	}else if(selected_user_type === 'newproductenquiry' ){
		$('#gotocatalogbutton').hide();
		$('#create_dl_form').attr('action','/regReq/enquiry_submit');
	  $(".choose-img-file").removeClass("d-none");
	  $(".bottom-hide").removeClass("d-none");

	}else {
		$('#gotocatalogbutton').hide();
	$('#create_dl_form').attr('action','/regReq/mbm_product_enquiry_submit');
	  $(".choose-img-file").addClass("d-none");
	  $(".file-vali").hide();
		$(".add-img-file").removeClass("hide1");
	  $(".bottom-hide").addClass("d-none");
	}
}

function getState(formId){
  var country=jQuery("#"+formId+" select[name='country']").val();
  jQuery.ajax({
  //url: 'http://localhost:8080/regAct/getJurst/country/'+country,
  url: '../regAct/getJurst/country/'+country,
  contentType: "application/json",
  dataType: 'json',
  success: function(result){
    var obj=result.data;
    jQuery("#"+formId+" select[name='state']").empty();
    jQuery("#"+formId+" select[name='state']").append(jQuery("<option value=''></option>"));
    jQuery.each(obj, function(key,value){
    jQuery("#"+formId+" select[name='state']").append(jQuery("<option></option>").attr("value", value.identifier).text(value.displayname));
    });
  }
});
}
function getCity(formId){
  var state=jQuery("#"+formId+" select[name='state']").val();
  jQuery.ajax({
  url: '../regAct/getJurst/state/'+state,
//	url: 'http://localhost:3000/regAct/getJurst/state/'+state,
  contentType: "application/json",
  dataType: 'json',
  success: function(result){
    var obj=result.data;
    jQuery("#"+formId+" select[name='city']").empty();
    jQuery("#"+formId+" select[name='city']").append(jQuery("<option value=''></option>"));
    jQuery.each(obj, function(key,value){
    jQuery("#"+formId+" select[name='city']").append(jQuery("<option></option>").attr("value", value.identifier).text(value.displayname));
    });
  }
});
}
$("#newProEnq").on("change", function() {
	if ($(this).is(":checked")) {
	$('#create_dl_form').attr('action','/regReq/enquiry_submit');
	  $(".choose-img-file").removeClass("d-none");
	  $(".bottom-hide").removeClass("d-none");
	} else {
		$('#create_dl_form').attr('action','/regReq/mbm_product_enquiry_submit');
	  $(".choose-img-file").addClass("d-none");
	  $(".file-vali").hide();
		$(".add-img-file").removeClass("hide1");
	  $(".bottom-hide").addClass("d-none");
	}
});
// add img file
$(".add-img-file button").on("click", function() {
	$(".file-vali").show();
	$(".add-img-file").addClass("hide1");
});
// FILE UPLOAD NAME
$('body .custom-file-input').on('change',function(){
    var fileName = $(this).val();
    $(this).next('.custom-file-label').html(fileName);
});

function addProduct(product){
	image_count = image_count + 1;
	product_data = JSON.parse(product);
	console.log(product_data);
	if($('#prod_'+product_data.PRODUCT_ID).html() === 'Add'){
		$('#prod_'+product_data.PRODUCT_ID).removeClass('btn-success');
		$('#prod_'+product_data.PRODUCT_ID).addClass('btn-danger');
		$('#prod_'+product_data.PRODUCT_ID).html('Remove');
		$('#qty_'+image_count).val($('#qty_form_'+product_data.PRODUCT_ID).val());
		$('#price_'+image_count).val($('#price_form_'+product_data.PRODUCT_ID).val());
		$('#imageName'+image_count).val(product_data.THUMBNAIL);
	} else {
		$('#prod_'+product_data.PRODUCT_ID).removeClass('btn-danger');
		$('#prod_'+product_data.PRODUCT_ID).addClass('btn-success');
		$('#prod_'+product_data.PRODUCT_ID).html('Add');
		$('#qty_form_'+product_data.PRODUCT_ID).val('');
		$('#price_form_'+product_data.PRODUCT_ID).val('');
	}
	


}


function submitProduct() {
	$('#formenquiryType').val($('#enquiryType').val());
	// $('#formcusNeoPrice').val($('#cusNegoPrice').val());
	$('#formvisitDate').val($('#visitDate').val());
	// $('#formproductQuantity').val('5');

	$('#catModal').modal('toggle');
}


</script>
</body>
</html>
