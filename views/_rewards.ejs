<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rewards</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- <link rel="shortcut icon" href="img/logo/favicon.ico"> -->

<!-- local bootstrap -->
<script src="/javascripts/webfont/webfont.min.js"></script>
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="/stylesheets/bootstrap.css">
<link rel="stylesheet" href="/stylesheets/atlantis.min.css">
<link href="/javascripts/jquery-ui/jquery-ui.css" rel="stylesheet"/>
<link href="/stylesheets/bootstrap-responsive.css" rel="stylesheet">
<!-- local style css -->
<link rel="stylesheet" href="/stylesheets/navbar.css">
<link rel="stylesheet" href="/stylesheets/index.css">

</head>
<body>
<div class="wrapper d-flex align-items-stretch">
<%- include("./partials/_menu.ejs",{userId:userId,userType:userType,username:username,userImg:userImg}) %>
<div class="order section">
	<div class="container-fluid">
		<div class="order-div section-div">
            
		
			
			<div class="col-md-12">
		    <div class="card">
		      <div class="card-header">
		        <h4 class="card-title">Rewards <i class="fa fa-gift"></i></h4>
              </div>
              
          <% if(userType == 'A') { %>  
		      <div class="card-body">
                <div style="margin-left: 40%;">
                    <div class="card text-white bg-dark mb-3" style="max-width: 18rem;">
                        <div class="card-header">
                            <% if(rewards[0].STATUS == 'A') { %>
                                <span id="rewardcurrentstatus" class="btn btn-success"><i class="fa fa-gift"></i></span>
                            <% } else { %>
                                <span id="rewardcurrentstatus" class="btn btn-danger"><i class="fa fa-gift"></i></span>
                            <%}%>
                            
                        </div>
                        
                        <div class="card-body">
                          <p class="card-text"><%= rewards[0].reward_point %>  Points</p>
                          <p class="card-text">For</p>
                          <p class="card-text">Cost of: <%= rewards[0].cost_per_reward %></p>
                        </div>
                        
                      </div>
                  </div>  
                

                
                <form id="rewardaction" method="post" action="/update_reward">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="inputState">Select Reward Point</label>
                            <select id="inputState" name="reward_points" class="form-control" required>
                              <option selected>Choose...</option>
                              <option value="1">1</option>
                              <option value="2">2</option>
                              <option value="3">3</option>
                              <option value="4">4</option>
                              <option value="5">5</option>
                              <option value="6">6</option>
                              <option value="7">7</option>
                              <option value="8">8</option>
                              <option value="9">9</option>
                              <option value="10">10</option>
                              <option value="11">11</option>
                              <option value="12">12</option>
                              <option value="13">13</option>
                              <option value="14">14</option>
                              <option value="15">15</option>
                              <option value="16">16</option>
                              <option value="17">17</option>
                              <option value="18">18</option>
                              <option value="19">19</option>
                              <option value="20">20</option>
                            </select>
                          </div>
                          <div class="form-group col-md-6">
                            <label for="inputState">Select Cost for Reward Point</label>
                            <select id="inputState" name="reward_cost" class="form-control" required>
                              <option selected>Choose...</option>
                              <option value="1">1</option>
                              <option value="100">100</option>
                              <option value="200">200</option>
                              <option value="300">300</option>
                              <option value="400">400</option>
                              <option value="500">500</option>
                              <option value="600">600</option>
                              <option value="700">700</option>
                              <option value="800">800</option>
                              <option value="900">900</option>
                              <option value="1000">1000</option>
                              <option value="2000">2000</option>
                              <option value="2500">2500</option>
                              <option value="3000">3000</option>
                              <option value="3500">3500</option>
                              <option value="4000">4000</option>
                            </select>
                          </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group col-md-6">
                        <label for="allowed_points">Select Redeemable Points at a time in Order</label>
                        <select id="allowed_points" name="allowed_points" class="form-control" required>
                          <option selected>Choose...</option>
                          <!-- <option value="1">1</option>
                          <option value="5">5</option>
                          <option value="10">10</option>
                          <option value="20">20</option>
                          <option value="30">30</option>
                          <option value="40">40</option> -->
                          <option value="50">50</option>
                          <!-- <option value="60">60</option>
                          <option value="70">70</option>
                          <option value="80">80</option>
                          <option value="90">90</option>
                          <option value="100">100</option> -->
                        </select>
                      </div>
                        
                    </div>
                    <div class="form-row">
                        
                      <div class="form-group col-md-6">
                          <label for="rewardstatus">Select Status for Reward Point</label>
                          <select id="rewardstatus" name="reward_status" class="form-control" required="required">
                            <option selected>Choose...</option>
                            <option value="Active">Active</option>
                            <option value="Inactive">Inactive</option>
                          </select>
                        </div>
                        <div class="form-group col-md-1">
                            <br/>
                          <span id="rewardactive" class="btn btn-success d-none"><i class="fa fa-check-square"></i></span>
                          <span id="rewardinactive" class="btn btn-danger d-none"><i class="fa fa-times"></i></span>
                        </div>
                  </div>
                    
                    <button type="submit" class="btn btn-primary">Update&nbsp;&nbsp;&nbsp;&nbsp;<i class="fa fa-gift"></i></button>
                  </form>

                  
            </div>
            <% } else { %>
              <div class="card-body">
                <div style="margin-left: 40%;">
                    <div class="card text-white bg-dark mb-3" style="max-width: 18rem;">
                        <div class="card-header">
                            
                                <span id="rewardcurrentstatus" class="btn btn-success"><i class="fa fa-gift"></i></span>
                            
                            
                        </div>
                        
                        <div class="card-body">
                          <p class="card-text"> You have: </p>
                          <p class="card-text"><%= rewards[0].usr_reward_points %>  Points</p>
                        </div>
                        
                      </div>
                  </div>  
                  <% } %>




		</div>
		</div>
		</div>
		</div>
	</div>
</div>
</div>






<script src="/javascripts/fontawwesome.js"></script>
<!-- jQuery -->
<script src="/javascripts/jquery.js"></script>
<script src="/javascripts/atlantis.min.js"></script>
<script src="/javascripts/jquery-ui/jquery-ui.js"></script>
<script src="/javascripts/datatables/datatables.min.js"></script>
<!-- Popper.js -->
<script src="/javascripts/popper.js"></script>
<!-- Bootstrap JS -->
<script src="/javascripts/bootstrap.js"></script>
<script src="/javascripts/main.js"></script>
<!-- <script src="/javascripts/vii.js"></script> -->
<!-- app -->
<script src="/javascripts/app.js"></script>
<script>

$('#rewardstatus').on('change', function() {
    var status = this.value;
    if(status === 'Active'){
        $('#rewardactive').removeClass('d-none');
        $('#rewardinactive').addClass('d-none');
    }else{
        $('#rewardactive').addClass('d-none');
        $('#rewardinactive').removeClass('d-none');
    }
})

</script>
</body>
</html>
